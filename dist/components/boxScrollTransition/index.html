<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Box Scroll Transition</title><script type="module" src="/_astro/boxScrollTransition.astro_astro_type_script_index_0_lang.CQzXJeaH.js"></script><script type="module" src="/_astro/boxScrollTransition.astro_astro_type_script_index_1_lang.D4mAvg75.js"></script><script type="module">document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".blocks-row").forEach(t=>{for(let e=0;e<60;e++){const o=document.createElement("div");o.className="block",t.appendChild(o)}}),document.querySelectorAll(".blocks-container").forEach(t=>{const e=t.querySelectorAll(".blocks-row"),o=e.length;e.forEach((c,a)=>{let l=Array.from(c.querySelectorAll(".block")),n=t.classList.contains("top"),r=gsap.utils.shuffle(l.map((s,i)=>i));ScrollTrigger.create({trigger:t,start:"top bottom",end:"bottom top",scrub:!0,onUpdate:s=>{let i=s.progress,u=.3*(o-a-1),m=Math.max(0,Math.min(1,i-u));d(l,r,n,m)}})})});function d(t,e,o,c){t.forEach((a,l)=>{let n=e.indexOf(l)/t.length,r=(c-n)*t.length,s=o?1-Math.min(1,Math.max(0,r)):Math.min(1,Math.max(0,r));a.style.opacity=s})}});</script><style>@import"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap";*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%}section{position:relative;width:100%;min-height:100vh}section.hero-img,section.about-img{height:200vh}.hero{background:#222}.about{background:#555}.footer{background:#888}img{position:absolute;width:100%;height:100%;object-fit:cover;z-index:-1}h1{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-family:Inter;font-size:10vw;font-weight:500;letter-spacing:-.025em;color:#000;opacity:.5}.blocks-container{position:absolute;width:100%;height:100px}.blocks-container.top{top:0}.blocks-container.bottom{bottom:0}.blocks-row{width:100%;height:25px;overflow:hidden;display:flex}.block{width:100%;height:100%;transition:opacity .1s}.blocks-container.top .blocks-row .block{opacity:1}.blocks-container.bottom .blocks-row .block{opacity:0}.hero-img .blocks-container.top .blocks-row .block{background:#222}.hero-img .blocks-container.bottom .blocks-row .block,.about-img .blocks-container.top .blocks-row .block{background:#555}.about-img .blocks-container.bottom .blocks-row .block{background:#888}
</style></head> <body> <div class="container"> <section class="hero"> <h1>Section 1</h1> </section> <section class="hero-img"> <img src="./assets/image1.webp" alt=""> <div class="blocks-container top"> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> </div> <div class="blocks-container bottom"> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> </div> </section> <section class="about"> <h1>Section 2</h1> </section> <section class="about-img"> <img src="./assets/image2.webp" alt=""> <div class="blocks-container top"> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> </div> <div class="blocks-container bottom"> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> <div class="blocks-row"></div> </div> </section> <section class="footer"> <h1>Section 3</h1> </section> </div> </body></html>